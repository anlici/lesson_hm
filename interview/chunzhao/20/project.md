## node-book
- 这是一款智能账单管理工具，能够实现账单记录和智能分析规划，帮助用户进行理财。
  使用openai embending 将文本进行转成语义向量，使用cosine similarity 进行相似度计算。
  结合Orama全文搜索与向量相似度检索，定位相关文档片段。后端使用egg.js 框架进行快速搭建restful api 给前端使用，通过sequilize 进行数据库操作。
  组件进行细粒化封装，使用zustand 进行状态管理。

- **orama 全文搜索擅长关键字准确匹配和布尔查询，**
  而向量相似度检索能够捕捉**语义层面的相似度**
  通过结合两者的优势，通过更精准的文档片段检索。
- 过程：
  - 数据预处理：将账单记录文档进行分块，生成适合检索的片段。
    每个片段会构建orama全文检索，通过嵌入模型生成向量表示，并且存储在向量数据库（milvus）
  - 查询：
    - 使用orama全文检索，通过关键字查询，获取相关片段。再将查询的关键字进行嵌入，通过向量数据库进行相似度检索。
    - 进行检索结果归一化评分，采用加权合并结果
    - 输出：选定取评分最高的片段，返回最相关文档片段。

- zustand 用于状态管理
  - 创建store文件，使用create 方法，set get方法作为参数，定义全局管理状态和更新方法，导出useStore方法
  - 组件使用useStore方法，获取store中的状态和方法
  - 支持异步，在store中定义异步方法，例如 async 
  - 中间件，持久化persist

- 文件上传前后端：
  - 前端：
    - 使用File.slice 方法进行文件分割成小块，
    - 再使用FormData 进行文件上传，记录进度
  - 后端：
    - 使用multipart/form-data 接收切片，保存在临时目录
- 