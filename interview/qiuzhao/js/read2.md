5.为什么js要设计变量提升？变量提升到哪里？
- js 早期为了适合初学者，代码容错高；var 本身没有块级作用域，变量提升到函数作用域；
- 函数中，提升到函数作用域顶部，变量提升到全局作用域顶部；
  函数本身提升优先级高于变量提升
6.如何通过js实现一个不可变的对象？如何通过ts实现呢？
- 冻结，Object.freeze() 不可变对象
  冻结对象，使其属性无法修改、添加或删除（浅冻结）
  递归冻结所有嵌套对象
- 不可变对象，ts 接口
  readonly 

## var 底层怎么提升的？
- 编译阶段（代码执行前）：
    `为了整个函数内都能被访问到变量，引擎会扫描整个作用域，收集所有 var 声明的变量和函数声明`，并将它们 "移动" 到当前作用域的顶部（这就是 "提升" 的本质）。
    对于变量：仅提升声明，不提升赋值（`赋值留在原地等待执行阶段处理`）。
    对于函数：整个函数体都会被提升（优先级高于变量提升）。
- 执行阶段：
    引擎按照代码顺序执行，此时变量已经在作用域中 "存在"，只是赋值操作还未执行（未赋值时默认值为 undefined）。
- let/const 
  编译阶段也会被收集到作用域中（本质上也有 "提升"），但存在`暂时性死区（TDZ）`
  
## 登入鉴权，怎么重定向，前端还是后端还是浏览器操作
- 传统web，后端通过http 相应头response.redirect重定向
- 单页应用，前端可以设计请求拦截器，设置window.locastion.href 跳转到登入页，路由跳转,

### jwt json web  token 加密json字符串
- 头部，负载，签名
- 后端发送jwt 给前端，前端存储在localStorage/cookie中，请求时authorazation 头携带jwt
- jwt 有效期，后端设定
- 同时生成两个令牌：
  短期访问令牌（如 2 小时，用于接口请求）
  长期刷新令牌（如 7 天，用于获取新的访问令牌）
- 访问令牌过期时，前端用刷新令牌调用专门接口，获取新的访问令牌
  若刷新令牌也过期，则需要重新登

## 将 AI 助手作为 iframe 嵌入到商家营销主应用（P 端）中
- 架构：主应用（Parent）：医疗系统 P 端，负责用户身份认证、权限管理、医疗数据展示等核心功能。
AI 助手（Child）：独立部署的 Web 应用，通过 iframe 嵌入主应用，专注于 AI 交互功能（如问诊辅助、病历分析等）。
通信机制：采用postMessage实现跨域数据交互，确保主应用与 AI 助手安全通信。

- 限制接收域名